<HTML
><HEAD
><TITLE
>Building The Documentation</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.73
"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 7.3.3 Documentation"
HREF="index.html"><LINK
REL="UP"
TITLE="Documentation"
HREF="docguide.html"><LINK
REL="PREVIOUS"
TITLE="Tool Sets"
HREF="doc-toolsets.html"><LINK
REL="NEXT"
TITLE="Documentation Authoring"
HREF="doc-sources.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
NAME="creation"
CONTENT="2003-05-24T21:33:34"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PostgreSQL 7.3.3 Documentation</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="doc-toolsets.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Appendix B. Documentation</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="doc-sources.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="DOC-BUILD"
>B.3. Building The Documentation</A
></H1
><P
>   Before you can build the documentation you need to run the
   <TT
CLASS="FILENAME"
>configure</TT
> script as you would when building
   the programs themselves.  Check the output near the end of the run,
   it should look something like this:
</P><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>checking for onsgmls... onsgmls
checking for openjade... openjade
checking for DocBook V3.1... yes
checking for DocBook stylesheets... /usr/lib/sgml/stylesheets/nwalsh-modular
checking for sgmlspl... sgmlspl</TT
></PRE
><P>
   If neither <TT
CLASS="FILENAME"
>onsgmls</TT
> nor
   <TT
CLASS="FILENAME"
>nsgmls</TT
> were found then you will not see the
   remaining 4 lines.  <TT
CLASS="FILENAME"
>nsgmls</TT
> is part of the Jade
   package.  If <SPAN
CLASS="QUOTE"
>"DocBook V3.1"</SPAN
> was not found then you did
   not install the DocBook DTD kit in a place where jade can find it,
   or you have not set up the catalog files correctly.  See the
   installation hints above.  The DocBook stylesheets are looked for
   in a number of relatively standard places, but if you have them
   some other place then you should set the environment variable
   <TT
CLASS="ENVAR"
>DOCBOOKSTYLE</TT
> to the location and rerun
   <TT
CLASS="FILENAME"
>configure</TT
> afterwards.
  </P
><P
>   Once you have everything set up, change to the directory
   <TT
CLASS="FILENAME"
>doc/src/sgml</TT
> and run one of the following
   commands: (Remember to use GNU make.)
   <P
></P
></P><UL
><LI
><P
>      To build the <SPAN
CLASS="ACRONYM"
>HTML</SPAN
> version of the
      <I
CLASS="CITETITLE"
>Administrator's Guide</I
>:
</P><PRE
CLASS="SCREEN"
><TT
CLASS="PROMPT"
>doc/src/sgml$ </TT
><TT
CLASS="USERINPUT"
><B
>gmake admin.html</B
></TT
></PRE
><P>
     </P
></LI
><LI
><P
>      For the RTF version of the same:
</P><PRE
CLASS="SCREEN"
><TT
CLASS="PROMPT"
>doc/src/sgml$ </TT
><TT
CLASS="USERINPUT"
><B
>gmake admin.rtf</B
></TT
></PRE
><P>
     </P
></LI
><LI
><P
>      To get a <SPAN
CLASS="ACRONYM"
>DVI</SPAN
> version via
      <SPAN
CLASS="PRODUCTNAME"
>JadeTeX</SPAN
>:
</P><PRE
CLASS="SCREEN"
><TT
CLASS="PROMPT"
>doc/src/sgml$ </TT
><TT
CLASS="USERINPUT"
><B
>gmake admin.dvi</B
></TT
></PRE
><P>
     </P
></LI
><LI
><P
>      And Postscript from the <SPAN
CLASS="ACRONYM"
>DVI</SPAN
>:
</P><PRE
CLASS="SCREEN"
><TT
CLASS="PROMPT"
>doc/src/sgml$ </TT
><TT
CLASS="USERINPUT"
><B
>gmake admin.ps</B
></TT
></PRE
><P>
     </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>       The official Postscript format documentation is generated
       differently.  See <A
HREF="doc-build.html#DOC-HARDCOPY"
>Section B.3.3</A
> below.
      </P
></BLOCKQUOTE
></DIV
></LI
></UL
><P>

   The other books can be built with analogous commands by replacing
   <TT
CLASS="LITERAL"
>admin</TT
> with one of <TT
CLASS="LITERAL"
>developer</TT
>,
   <TT
CLASS="LITERAL"
>programmer</TT
>, <TT
CLASS="LITERAL"
>tutorial</TT
>, or
   <TT
CLASS="LITERAL"
>user</TT
>.  Using <TT
CLASS="LITERAL"
>postgres</TT
> builds
   an integrated version of all 5 books, which is practical since the
   browser interface makes it easy to move around all of the
   documentation by just clicking.
  </P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN56605"
>B.3.1. HTML</A
></H2
><P
>    When building <SPAN
CLASS="ACRONYM"
>HTML</SPAN
> documentation in
    <TT
CLASS="FILENAME"
>doc/src/sgml</TT
>, some of the resulting files
    will possibly (or quite certainly) have conflicting names between
    books.  Therefore the files are not in that directory in the
    regular distribution.  Instead, the files belonging to each book
    are stored in a tar archive that is unpacked at installation time.
    To create a set of <SPAN
CLASS="ACRONYM"
>HTML</SPAN
> documentation packages
    use the commands
</P><PRE
CLASS="PROGRAMLISTING"
>cd doc/src
gmake tutorial.tar.gz
gmake user.tar.gz
gmake admin.tar.gz
gmake programmer.tar.gz
gmake postgres.tar.gz
gmake install</PRE
><P>
    In the distribution, these archives live in the
    <TT
CLASS="FILENAME"
>doc</TT
> directory and are installed by default
    with <TT
CLASS="COMMAND"
>gmake install</TT
>.
  </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DOC-MANPAGES"
>B.3.2. Manpages</A
></H2
><P
>   We use the <SPAN
CLASS="APPLICATION"
>docbook2man</SPAN
> utility to
   convert <SPAN
CLASS="PRODUCTNAME"
>DocBook</SPAN
>
   <TT
CLASS="SGMLTAG"
>REFENTRY</TT
> pages to *roff output suitable for man
   pages.  The man pages are also distributed as a tar archive,
   similar to the <SPAN
CLASS="ACRONYM"
>HTML</SPAN
> version.  To create the man page package, use the commands
</P><PRE
CLASS="PROGRAMLISTING"
>cd doc/src
gmake man</PRE
><P>
   which will result in a tar file being generated in the
   <TT
CLASS="FILENAME"
>doc/src</TT
> directory.
  </P
><P
>   The man build leaves a lot of confusing output, and special care
   must be taken to produce quality results.  There is still room for
   improvement in this area.
  </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DOC-HARDCOPY"
>B.3.3. Hardcopy Generation</A
></H2
><P
>   The hardcopy Postscript documentation is generated by converting the
   <SPAN
CLASS="ACRONYM"
>SGML</SPAN
> source code to <SPAN
CLASS="ACRONYM"
>RTF</SPAN
>, then
   importing into <SPAN
CLASS="PRODUCTNAME"
>Applixware</SPAN
>. 
   After a little cleanup (see the following
   section) the output is <SPAN
CLASS="QUOTE"
>"printed"</SPAN
> to a postscript file.
  </P
><P
>    Several areas are addressed while generating Postscript
    hardcopy, including RTF repair, ToC generation, and page break
    adjustments. 
   </P
><DIV
CLASS="PROCEDURE"
><P
><B
><SPAN
CLASS="PRODUCTNAME"
>Applixware</SPAN
> <SPAN
CLASS="ACRONYM"
>RTF</SPAN
> Cleanup</B
></P
><P
>     <SPAN
CLASS="APPLICATION"
>jade</SPAN
>, an integral part of the
     hardcopy procedure, omits specifying a default style for body
     text. In the past, this undiagnosed problem led to a long process
     of Table of Contents (ToC) generation. However, with great help
     from the <SPAN
CLASS="PRODUCTNAME"
>Applixware</SPAN
> folks the symptom was diagnosed and a
     workaround is available.
    </P
><OL
TYPE="1"
><LI
><P
>      Generate the <SPAN
CLASS="ACRONYM"
>RTF</SPAN
> input by typing (for example):
      </P><PRE
CLASS="PROGRAMLISTING"
>% cd doc/src/sgml
% make tutorial.rtf
      </PRE
><P>
     </P
></LI
><LI
><P
>      Repair the RTF file to correctly specify all
      styles, in particular the default style. If the document
       contains <TT
CLASS="SGMLTAG"
>REFENTRY</TT
> sections, one must also
       replace formatting hints which tie a
       <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>preceding</I
></SPAN
> paragraph to the current
       paragraph, and instead tie the current paragraph to the
       following one. A utility, <SPAN
CLASS="APPLICATION"
>fixrtf</SPAN
> is
       available in 
       <TT
CLASS="FILENAME"
>doc/src/sgml</TT
> to accomplish these repairs:

       </P><PRE
CLASS="PROGRAMLISTING"
>% cd doc/src/sgml
% fixrtf tutorial.rtf
       </PRE
><P>

       or

       </P><PRE
CLASS="PROGRAMLISTING"
>% cd doc/src/sgml
% fixrtf --refentry reference.rtf
       </PRE
><P>
      </P
><P
>      The script adds <TT
CLASS="LITERAL"
>{\s0 Normal;}</TT
> as
      the zero-th style in the document. According to <SPAN
CLASS="PRODUCTNAME"
>Applixware</SPAN
>, the
      RTF standard would prohibit adding an implicit zero-th style,
      though M$Word happens to handle this case. For repairing
       <TT
CLASS="SGMLTAG"
>REFENTRY</TT
> sections, the script replaces
       <TT
CLASS="LITERAL"
>\keepn</TT
> tags with <TT
CLASS="LITERAL"
>\keep</TT
>.
     </P
></LI
><LI
><P
>      Open a new document in <SPAN
CLASS="PRODUCTNAME"
>Applixware Words</SPAN
> and
      then import the <SPAN
CLASS="ACRONYM"
>RTF</SPAN
> file.
     </P
></LI
><LI
><P
>      Generate a new ToC using <SPAN
CLASS="PRODUCTNAME"
>Applixware</SPAN
>.
     </P
><OL
CLASS="SUBSTEPS"
TYPE="a"
><LI
><P
>	Select the existing ToC lines, from the beginning of the first
	character on the first line to the last character of the last
	line.
       </P
></LI
><LI
><P
>	Build a new ToC using
	<TT
CLASS="LITERAL"
>Tools.BookBuilding.CreateToC</TT
>. Select the
	first three levels of headers for inclusion in the ToC. 
	This will
	replace the existing lines imported in the RTF with a native
	<SPAN
CLASS="PRODUCTNAME"
>Applixware</SPAN
> ToC.
       </P
></LI
><LI
><P
>	Adjust the ToC formatting by using
	<TT
CLASS="LITERAL"
>Format.Style</TT
>, selecting each of the three
	ToC styles, and adjusting the indents for <TT
CLASS="LITERAL"
>First</TT
> and
	<TT
CLASS="LITERAL"
>Left</TT
>. Use the following values:

	<DIV
CLASS="TABLE"
><A
NAME="AEN56676"
></A
><P
><B
>Table B-1. Indent Formatting for Table of Contents</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
>	     Style
	    </TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>	     First Indent (inches)
	    </TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>	     Left Indent (inches)
	    </TH
></TR
></THEAD
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>	     <TT
CLASS="LITERAL"
>TOC-Heading 1</TT
>
	    </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>	     <TT
CLASS="LITERAL"
>0.4</TT
>
	    </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>	     <TT
CLASS="LITERAL"
>0.4</TT
>
	    </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>	     <TT
CLASS="LITERAL"
>TOC-Heading 2</TT
>
	    </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>	     <TT
CLASS="LITERAL"
>0.8</TT
>
	    </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>	     <TT
CLASS="LITERAL"
>0.8</TT
>
	    </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>	     <TT
CLASS="LITERAL"
>TOC-Heading 3</TT
>
	    </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>	     <TT
CLASS="LITERAL"
>1.2</TT
>
	    </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>	     <TT
CLASS="LITERAL"
>1.2</TT
>
	    </TD
></TR
></TBODY
></TABLE
></DIV
>
       </P
></LI
></OL
></LI
><LI
><P
>      Work through the document to:

      <P
></P
></P><UL
><LI
><P
>	 Adjust page breaks.
	</P
></LI
><LI
><P
>	 Adjust table column widths.
	</P
></LI
><LI
><P
>	 Insert figures into the document. Center each figure on the page using
	 the centering margins button on the <SPAN
CLASS="PRODUCTNAME"
>Applixware</SPAN
> toolbar.

	 </P><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>	   Not all documents have figures.
	   You can grep the <SPAN
CLASS="ACRONYM"
>SGML</SPAN
> source files for
	   the string <TT
CLASS="LITERAL"
>graphic</TT
> to identify those parts of the
	   documentation that may have figures. A few figures are replicated in
	   various parts of the documentation.
	  </P
></BLOCKQUOTE
></DIV
><P>
	</P
></LI
></UL
><P>
     </P
></LI
><LI
><P
>      Replace the right-justified page numbers in the Examples and
      Figures portions of the ToC with
      correct values. This only takes a few minutes per document.
     </P
></LI
><LI
><P
>       Delete the index section from the document if it is empty.
     </P
></LI
><LI
><P
>       Regenerate and adjust the table of contents.
     </P
><OL
CLASS="SUBSTEPS"
TYPE="a"
><LI
><P
>	 Select the ToC field.
	</P
></LI
><LI
><P
>	 Select
	 <TT
CLASS="LITERAL"
>Tools-&#62;Book Building-&#62;Create Table of
	  Contents</TT
>. 
	</P
></LI
><LI
><P
>	 Unbind the ToC by selecting
	 <TT
CLASS="LITERAL"
>Tools-&#62;Field Editing-&#62;Unprotect</TT
>.
	</P
></LI
><LI
><P
>	 Delete the first line in the ToC, which is an entry for the
	 ToC itself.
	</P
></LI
></OL
></LI
><LI
><P
>      Save the document as native <SPAN
CLASS="PRODUCTNAME"
>Applixware Words</SPAN
> format to allow easier last
      minute editing later.
     </P
></LI
><LI
><P
>      <SPAN
CLASS="QUOTE"
>"Print"</SPAN
> the document
      to a file in Postscript format.
     </P
></LI
><LI
><P
>      Compress the Postscript file using <SPAN
CLASS="APPLICATION"
>gzip</SPAN
>.
      Place the compressed file into the <TT
CLASS="FILENAME"
>doc</TT
> directory.
     </P
></LI
></OL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN56747"
>B.3.4. Plain Text Files</A
></H2
><P
>    Several files are distributed as plain text, for reading during
    the installation process. The <TT
CLASS="FILENAME"
>INSTALL</TT
> file
    corresponds to the chapter in the <I
CLASS="CITETITLE"
>Administrator's
    Guide</I
>, with some minor changes to account for the
    different context.  To recreate the file, change to the directory
    <TT
CLASS="FILENAME"
>doc/src/sgml</TT
> and enter <TT
CLASS="USERINPUT"
><B
>gmake
    INSTALL</B
></TT
>.  This will create a file
    <TT
CLASS="FILENAME"
>INSTALL.html</TT
> that can be saved as text with
    <SPAN
CLASS="PRODUCTNAME"
>Netscape Navigator</SPAN
> and put into the
    place of the existing file.  <SPAN
CLASS="PRODUCTNAME"
>Netscape</SPAN
>
    seems to offer the best quality for <SPAN
CLASS="ACRONYM"
>HTML</SPAN
> to
    text conversions (over <SPAN
CLASS="APPLICATION"
>lynx</SPAN
> and
    <SPAN
CLASS="APPLICATION"
>w3m</SPAN
>).
   </P
><P
>    The file <TT
CLASS="FILENAME"
>HISTORY</TT
> can be created similarly,
    using the command <TT
CLASS="USERINPUT"
><B
>gmake HISTORY</B
></TT
>.  For the
    file <TT
CLASS="FILENAME"
>src/test/regress/README</TT
> the command is
    <TT
CLASS="USERINPUT"
><B
>gmake regress_README</B
></TT
>.
   </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="doc-toolsets.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="doc-sources.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Tool Sets</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="docguide.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Documentation Authoring</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>