<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Chapter 28. Large Objects</title>
<link rel="stylesheet" href="stylesheet.css" type="text/css">
<link rev="made" href="pgsql-docs@postgresql.org">
<meta name="generator" content="DocBook XSL Stylesheets V1.64.1">
<link rel="home" href="index.html" title="PostgreSQL 8.0.0beta2 Documentation">
<link rel="up" href="client-interfaces.html" title="Part IV. Client Interfaces">
<link rel="previous" href="libpq-example.html" title="27.15. Example Programs">
<link rel="next" href="lo-implementation.html" title="28.2. Implementation Features">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter" lang="en" id="largeobjects">
<div class="titlepage">
<div><div><h2 class="title">
<a name="largeobjects"></a>Chapter 28. Large Objects</h2></div></div>
<div></div>
</div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="sect1"><a href="largeobjects.html#lo-history">28.1. History</a></span></dt>
<dt><span class="sect1"><a href="lo-implementation.html">28.2. Implementation Features</a></span></dt>
<dt><span class="sect1"><a href="lo-interfaces.html">28.3. Client Interfaces</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="lo-interfaces.html#id2613097">28.3.1. Creating a Large Object</a></span></dt>
<dt><span class="sect2"><a href="lo-interfaces.html#id2613155">28.3.2. Importing a Large Object</a></span></dt>
<dt><span class="sect2"><a href="lo-interfaces.html#id2613184">28.3.3. Exporting a Large Object</a></span></dt>
<dt><span class="sect2"><a href="lo-interfaces.html#id2613219">28.3.4. Opening an Existing Large Object</a></span></dt>
<dt><span class="sect2"><a href="lo-interfaces.html#id2613300">28.3.5. Writing Data to a Large Object</a></span></dt>
<dt><span class="sect2"><a href="lo-interfaces.html#id2613353">28.3.6. Reading Data from a Large Object</a></span></dt>
<dt><span class="sect2"><a href="lo-interfaces.html#id2613405">28.3.7. Seeking on a Large Object</a></span></dt>
<dt><span class="sect2"><a href="lo-interfaces.html#id2613460">28.3.8. Obtaining the Seek Position of a Large Object</a></span></dt>
<dt><span class="sect2"><a href="lo-interfaces.html#id2613482">28.3.9. Closing a Large Object Descriptor</a></span></dt>
<dt><span class="sect2"><a href="lo-interfaces.html#id2613525">28.3.10. Removing a Large Object</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="lo-funcs.html">28.4. Server-Side Functions</a></span></dt>
<dt><span class="sect1"><a href="lo-examplesect.html">28.5. Example Program</a></span></dt>
</dl>
</div>
<a name="id2612812"></a><a name="id2612823"></a><p>    In <span class="productname">PostgreSQL</span> releases prior to 7.1,
    the size of any row in the database could not exceed the size of a
    data page.  Since the size of a data page is 8192 bytes (the
    default, which can be raised up to 32768), the upper limit on the
    size of a data value was relatively low. To support the storage of
    larger atomic values, <span class="productname">PostgreSQL</span>
    provided and continues to provide a large object interface.  This
    interface provides file-oriented access to user data that is stored in
    a special large-object structure.
   </p>
<p>    This chapter describes the implementation and the programming and
    query language interfaces to <span class="productname">PostgreSQL</span>
    large object data.  We use the <span class="application">libpq</span> C
    library for the examples in this chapter, but most programming
    interfaces native to <span class="productname">PostgreSQL</span> support
    equivalent functionality.  Other interfaces may use the large
    object interface internally to provide generic support for large
    values.  This is not described here.
   </p>
<div class="sect1" lang="en">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="lo-history"></a>28.1. History</h2></div></div>
<div></div>
</div>
<p>    <span class="productname">POSTGRES 4.2</span>, the indirect predecessor
    of <span class="productname">PostgreSQL</span>, supported three standard
    implementations of large objects: as files external to the
    <span class="productname">POSTGRES</span> server, as external files
    managed by the <span class="productname">POSTGRES</span> server, and as
    data stored within the <span class="productname">POSTGRES</span>
    database. This caused considerable confusion among users. As a
    result, only support for large objects as data stored within the
    database is retained in <span class="productname">PostgreSQL</span>.
    Even though this is slower to access, it provides stricter data
    integrity.  For historical reasons, this storage scheme is
    referred to as <i class="firstterm">Inversion large
    objects</i>. (You will see the term Inversion used
    occasionally to mean the same thing as large object.)  Since
    <span class="productname">PostgreSQL 7.1</span>, all large objects are
    placed in one system table called
    <tt class="classname">pg_largeobject</tt>.
   </p>
<p>    <a name="id2612953"></a>
    <a name="id2612960"></a>
    <span class="productname">PostgreSQL 7.1</span> introduced a mechanism
    (nicknamed &#8220;<span class="quote"><span class="acronym">TOAST</span></span>&#8221;) that allows
    data rows to be much larger than individual data pages.  This
    makes the large object interface partially obsolete.  One
    remaining advantage of the large object interface is that it allows values up
    to 2 GB in size, whereas <span class="acronym">TOAST</span> can only handle 1 GB.
   </p>
</div>
</div></body>
</html>
