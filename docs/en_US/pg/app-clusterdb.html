<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>clusterdb</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 7.4beta2 Documentation"
HREF="index.html"><LINK
REL="UP"
TITLE="PostgreSQL Client Applications"
HREF="reference-client.html"><LINK
REL="PREVIOUS"
TITLE="PostgreSQL Client Applications"
HREF="reference-client.html"><LINK
REL="NEXT"
TITLE="createdb"
HREF="app-createdb.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
NAME="creation"
CONTENT="2003-08-27T02:55:32"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PostgreSQL 7.4beta2 Documentation</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="reference-client.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="app-createdb.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="APP-CLUSTERDB"
></A
><SPAN
CLASS="APPLICATION"
>clusterdb</SPAN
></H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN45095"
></A
><H2
>Name</H2
>clusterdb&nbsp;--&nbsp;cluster a <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> database</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN45099"
></A
><H2
>Synopsis</H2
><P
><TT
CLASS="COMMAND"
>clusterdb</TT
> [<VAR
CLASS="REPLACEABLE"
>connection-option</VAR
>...] [--table | -t <VAR
CLASS="REPLACEABLE"
>table</VAR
> ] [<VAR
CLASS="REPLACEABLE"
>dbname</VAR
>]<BR><TT
CLASS="COMMAND"
>clusterdb</TT
> [<VAR
CLASS="REPLACEABLE"
>connection-option</VAR
>...] [--all | -a]</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN45115"
></A
><H2
>Description</H2
><P
>   <SPAN
CLASS="APPLICATION"
>clusterdb</SPAN
> is a utility for reclustering tables
   in a <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> database.  It finds tables
   that have previously been clustered, and clusters them again on the same
   index that was last used.  Tables that have never been clustered are not
   affected.
  </P
><P
>   <SPAN
CLASS="APPLICATION"
>clusterdb</SPAN
> is a wrapper around the SQL
   command <A
HREF="sql-cluster.html"
><I
>CLUSTER</I
></A
>.
   There is no effective difference between clustering databases via
   this or other methods.  The database server must be running at the
   targeted host.  Also, any default settings and environment
   variables used by the <SPAN
CLASS="APPLICATION"
>libpq</SPAN
> front-end
   library will apply.
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN45124"
></A
><H2
>Options</H2
><P
>    <SPAN
CLASS="APPLICATION"
>clusterdb</SPAN
> accepts the following command-line arguments:
    
    <P
></P
></P><DIV
CLASS="VARIABLELIST"
><DL
><DT
><VAR
CLASS="OPTION"
>-a</VAR
><BR><VAR
CLASS="OPTION"
>--all</VAR
></DT
><DD
><P
>	Cluster all databases.
       </P
></DD
><DT
><VAR
CLASS="OPTION"
>[<SPAN
CLASS="OPTIONAL"
>-d</SPAN
>] <VAR
CLASS="REPLACEABLE"
>dbname</VAR
></VAR
><BR><VAR
CLASS="OPTION"
>[<SPAN
CLASS="OPTIONAL"
>--dbname</SPAN
>] <VAR
CLASS="REPLACEABLE"
>dbname</VAR
></VAR
></DT
><DD
><P
>	Specifies the name of the database to be clustered.
	If this is not specified and <VAR
CLASS="OPTION"
>-a</VAR
> (or
	<VAR
CLASS="OPTION"
>--all</VAR
>) is not used, the database name is read
	from the environment variable <TT
CLASS="ENVAR"
>PGDATABASE</TT
>.  If
	that is not set, the user name specified for the connection is
	used.
       </P
></DD
><DT
><VAR
CLASS="OPTION"
>-e</VAR
><BR><VAR
CLASS="OPTION"
>--echo</VAR
></DT
><DD
><P
>        Echo the commands that <SPAN
CLASS="APPLICATION"
>clusterdb</SPAN
> generates
	and sends to the server.
       </P
></DD
><DT
><VAR
CLASS="OPTION"
>-q</VAR
><BR><VAR
CLASS="OPTION"
>--quiet</VAR
></DT
><DD
><P
>        Do not display a response.
       </P
></DD
><DT
><VAR
CLASS="OPTION"
>-t <VAR
CLASS="REPLACEABLE"
>table</VAR
></VAR
><BR><VAR
CLASS="OPTION"
>--table <VAR
CLASS="REPLACEABLE"
>table</VAR
></VAR
></DT
><DD
><P
>	Cluster <VAR
CLASS="REPLACEABLE"
>table</VAR
> only.
       </P
></DD
></DL
></DIV
><P>
   </P
><P
>    <SPAN
CLASS="APPLICATION"
>clusterdb</SPAN
> also accepts 
    the following command-line arguments for connection parameters:

    <P
></P
></P><DIV
CLASS="VARIABLELIST"
><DL
><DT
><VAR
CLASS="OPTION"
>-h <VAR
CLASS="REPLACEABLE"
>host</VAR
></VAR
><BR><VAR
CLASS="OPTION"
>--host <VAR
CLASS="REPLACEABLE"
>host</VAR
></VAR
></DT
><DD
><P
>	Specifies the host name of the machine on which the server is
	running.  If the value begins with a slash, it is used as the
	directory for the Unix domain socket.
       </P
></DD
><DT
><VAR
CLASS="OPTION"
>-p <VAR
CLASS="REPLACEABLE"
>port</VAR
></VAR
><BR><VAR
CLASS="OPTION"
>--port <VAR
CLASS="REPLACEABLE"
>port</VAR
></VAR
></DT
><DD
><P
>	Specifies the TCP port or local Unix domain socket file 
	extension on which the server
	is listening for connections.
       </P
></DD
><DT
><VAR
CLASS="OPTION"
>-U <VAR
CLASS="REPLACEABLE"
>username</VAR
></VAR
><BR><VAR
CLASS="OPTION"
>--username <VAR
CLASS="REPLACEABLE"
>username</VAR
></VAR
></DT
><DD
><P
>        User name to connect as.
       </P
></DD
><DT
><VAR
CLASS="OPTION"
>-W</VAR
><BR><VAR
CLASS="OPTION"
>--password</VAR
></DT
><DD
><P
>        Force password prompt.
       </P
></DD
></DL
></DIV
><P>
   </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN45212"
></A
><H2
>Diagnostics</H2
><P
>    <P
></P
></P><DIV
CLASS="VARIABLELIST"
><DL
><DT
><SAMP
CLASS="COMPUTEROUTPUT"
>CLUSTER</SAMP
></DT
><DD
><P
>        The database was successfully clustered.
       </P
></DD
><DT
><SAMP
CLASS="COMPUTEROUTPUT"
>clusterdb: Cluster failed.</SAMP
></DT
><DD
><P
>        Something went wrong. <SPAN
CLASS="APPLICATION"
>clusterdb</SPAN
> is only a wrapper
        script. See <A
HREF="sql-cluster.html"
><I
>CLUSTER</I
></A
>
        and <A
HREF="app-psql.html"
><SPAN
CLASS="APPLICATION"
>psql</SPAN
></A
> for a detailed
        discussion of error messages and potential problems.
       </P
></DD
></DL
></DIV
><P>
   </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN45229"
></A
><H2
>Environment</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="ENVAR"
>PGDATABASE</TT
><BR><TT
CLASS="ENVAR"
>PGHOST</TT
><BR><TT
CLASS="ENVAR"
>PGPORT</TT
><BR><TT
CLASS="ENVAR"
>PGUSER</TT
></DT
><DD
><P
>      Default connection parameters
     </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN45243"
></A
><H2
>Examples</H2
><P
>    To cluster the database <VAR
CLASS="LITERAL"
>test</VAR
>:
</P><PRE
CLASS="SCREEN"
><SAMP
CLASS="PROMPT"
>$ </SAMP
><KBD
CLASS="USERINPUT"
>clusterdb test</KBD
></PRE
><P>
   </P
><P
>    To cluster a single table
    <VAR
CLASS="LITERAL"
>foo</VAR
> in a database named
    <VAR
CLASS="LITERAL"
>xyzzy</VAR
>:
</P><PRE
CLASS="SCREEN"
><SAMP
CLASS="PROMPT"
>$ </SAMP
><KBD
CLASS="USERINPUT"
>clusterdb --table foo xyzzy</KBD
></PRE
><P>
   </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN45256"
></A
><H2
>See Also</H2
><A
HREF="sql-cluster.html"
><I
>CLUSTER</I
></A
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="reference-client.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="app-createdb.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>PostgreSQL Client Applications</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="reference-client.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><SPAN
CLASS="APPLICATION"
>createdb</SPAN
></TD
></TR
></TABLE
></DIV
></BODY
></HTML
>