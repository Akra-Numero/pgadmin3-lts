<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>SELECT INTO</title>
<link rel="stylesheet" href="stylesheet.css" type="text/css">
<link rev="made" href="pgsql-docs@postgresql.org">
<meta name="generator" content="DocBook XSL Stylesheets V1.64.1">
<link rel="home" href="index.html" title="PostgreSQL 8.0.0beta2 Documentation">
<link rel="up" href="sql-commands.html" title="SQL Commands">
<link rel="previous" href="sql-select.html" title="SELECT">
<link rel="next" href="sql-set.html" title="SET">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" lang="en">
<a name="sql-selectinto"></a><div class="titlepage">
<div></div>
<div></div>
</div>
<div class="refnamediv">
<h2>Name</h2>
<p>SELECT INTO &#8212; define a new table from the results of a query</p>
</div>
<a name="id2694617"></a><div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">SELECT [ ALL | DISTINCT [ ON ( <i class="replaceable"><tt>expression</tt></i> [, ...] ) ] ]
    * | <i class="replaceable"><tt>expression</tt></i> [ AS <i class="replaceable"><tt>output_name</tt></i> ] [, ...]
    INTO [ TEMPORARY | TEMP ] [ TABLE ] <i class="replaceable"><tt>new_table</tt></i>
    [ FROM <i class="replaceable"><tt>from_item</tt></i> [, ...] ]
    [ WHERE <i class="replaceable"><tt>condition</tt></i> ]
    [ GROUP BY <i class="replaceable"><tt>expression</tt></i> [, ...] ]
    [ HAVING <i class="replaceable"><tt>condition</tt></i> [, ...] ]
    [ { UNION | INTERSECT | EXCEPT } [ ALL ] <i class="replaceable"><tt>select</tt></i> ]
    [ ORDER BY <i class="replaceable"><tt>expression</tt></i> [ ASC | DESC | USING <i class="replaceable"><tt>operator</tt></i> ] [, ...] ]
    [ LIMIT { <i class="replaceable"><tt>count</tt></i> | ALL } ]
    [ OFFSET <i class="replaceable"><tt>start</tt></i> ]
    [ FOR UPDATE [ OF <i class="replaceable"><tt>tablename</tt></i> [, ...] ] ]</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2694705"></a><h2>Description</h2>
<p>   <tt class="command">SELECT INTO</tt> creates a new table and fills it
   with data computed by a query.  The data is not returned to the
   client, as it is with a normal <tt class="command">SELECT</tt>.  The new
   table's columns have the names and data types associated with the
   output columns of the <tt class="command">SELECT</tt>.
  </p>
</div>
<div class="refsect1" lang="en">
<a name="id2694730"></a><h2>Parameters</h2>
<div class="variablelist"><dl>
<dt><span class="term"><tt class="literal">TEMPORARY</tt> or <tt class="literal">TEMP</tt></span></dt>
<dd><p>     If specified, the table is created as a temporary table.  Refer
     to <a href="sql-createtable.html">CREATE TABLE</a> for details.
    </p></dd>
<dt><span class="term"><i class="replaceable"><tt>new_table</tt></i></span></dt>
<dd><p>      The name (optionally schema-qualified) of the table to be created.
     </p></dd>
</dl></div>
<p>   All other parameters are described in detail under <a href="sql-select.html">SELECT</a>.
  </p>
</div>
<div class="refsect1" lang="en">
<a name="id2694777"></a><h2>Notes</h2>
<p>   <a href="sql-createtableas.html">CREATE TABLE AS</a> is functionally similar to
   <tt class="command">SELECT INTO</tt>.  <tt class="command">CREATE TABLE AS</tt>
   is the recommended syntax, since this form of <tt class="command">SELECT
   INTO</tt> is not available in <span class="application">ECPG</span>
   or <span class="application">PL/pgSQL</span>, because they interpret the
   <tt class="literal">INTO</tt> clause differently. Furthermore,
   <tt class="command">CREATE TABLE AS</tt> offers a superset of the
   functionality provided by <tt class="command">SELECT INTO</tt>.
  </p>
<p>   Prior to <span class="productname">PostgreSQL</span> 8.0, the table created by
   <tt class="command">SELECT INTO</tt> always included OIDs. Furthermore,
   these OIDs were newly generated: they were distinct from the OIDs
   of any of the rows in the source tables of the <tt class="command">SELECT
   INTO</tt> statement. Therefore, if <tt class="command">SELECT
   INTO</tt> was frequently executed, the OID counter would be
   rapidly incremented. As of <span class="productname">PostgreSQL</span> 8.0, the
   inclusion of OIDs in the table created by <tt class="command">SELECT
   INTO</tt> is controlled by the
   <a href="runtime-config.html#guc-default-with-oids">default_with_oids</a> configuration variable. This
   variable currently defaults to true, but will likely default to
   false in a future release of <span class="productname">PostgreSQL</span>.
  </p>
</div>
<div class="refsect1" lang="en">
<a name="id2694885"></a><h2>Compatibility</h2>
<p>   The SQL standard uses <tt class="command">SELECT INTO</tt> to
   represent selecting values into scalar variables of a host program,
   rather than creating a new table.  This indeed is the usage found
   in <span class="application">ECPG</span> (see <a href="ecpg.html" title="Chapter 29. ECPG - Embedded SQL in C">Chapter 29, <i>ECPG - Embedded SQL in C</i></a>) and
   <span class="application">PL/pgSQL</span> (see <a href="plpgsql.html" title="Chapter 35. PL/pgSQL - SQL Procedural Language">Chapter 35, <i>PL/pgSQL - SQL Procedural Language</i></a>).
   The <span class="productname">PostgreSQL</span> usage of <tt class="command">SELECT
   INTO</tt> to represent table creation is historical.  It is
   best to use <tt class="command">CREATE TABLE AS</tt> for this purpose in
   new code.
  </p>
</div>
</div></body>
</html>
