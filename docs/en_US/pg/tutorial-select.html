<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>2.5. Querying a Table</title>
<link rel="stylesheet" href="stylesheet.css" type="text/css">
<link rev="made" href="pgsql-docs@postgresql.org">
<meta name="generator" content="DocBook XSL Stylesheets V1.64.1">
<link rel="home" href="index.html" title="PostgreSQL 8.0.0beta2 Documentation">
<link rel="up" href="tutorial-sql.html" title="Chapter 2. The SQL Language">
<link rel="previous" href="tutorial-populate.html" title="2.4. Populating a Table With Rows">
<link rel="next" href="tutorial-join.html" title="2.6. Joins Between Tables">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="sect1" lang="en">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="tutorial-select"></a>2.5. Querying a Table</h2></div></div>
<div></div>
</div>
<p>    <a name="id2518077"></a>
    <a name="id2518084"></a>

    To retrieve data from a table, the table is
    <i class="firstterm">queried</i>.  An <span class="acronym">SQL</span>
    <tt class="command">SELECT</tt> statement is used to do this.  The
    statement is divided into a select list (the part that lists the
    columns to be returned), a table list (the part that lists the
    tables from which to retrieve the data), and an optional
    qualification (the part that specifies any restrictions).  For
    example, to retrieve all the rows of table
    <tt class="classname">weather</tt>, type:
</p>
<pre class="programlisting">SELECT * FROM weather;</pre>
<p>
    (here <tt class="literal">*</tt> means &#8220;<span class="quote">all columns</span>&#8221;).
     <sup>[<a name="id2518130" href="#ftn.id2518130">2</a>]</sup>
    The output should be:

</p>
<pre class="screen">     city      | temp_lo | temp_hi | prcp |    date
---------------+---------+---------+------+------------
 San Francisco |      46 |      50 | 0.25 | 1994-11-27
 San Francisco |      43 |      57 |    0 | 1994-11-29
 Hayward       |      37 |      54 |      | 1994-11-29
(3 rows)</pre>
<p>
   </p>
<p>    You may specify any arbitrary expressions in the select list.  For 
    example, you can do:
</p>
<pre class="programlisting">SELECT city, (temp_hi+temp_lo)/2 AS temp_avg, date FROM weather;</pre>
<p>
    This should give:
</p>
<pre class="screen">     city      | temp_avg |    date
---------------+----------+------------
 San Francisco |       48 | 1994-11-27
 San Francisco |       50 | 1994-11-29
 Hayward       |       45 | 1994-11-29
(3 rows)</pre>
<p>
    Notice how the <tt class="literal">AS</tt> clause is used to relabel the
    output column.  (The <tt class="literal">AS</tt> clause is optional.)
   </p>
<p>    Arbitrary Boolean operators (<tt class="literal">AND</tt>,
    <tt class="literal">OR</tt>, and <tt class="literal">NOT</tt>) are allowed in
    the qualification of a query.  For example, the following
    retrieves the weather of San Francisco on rainy days:

</p>
<pre class="programlisting">SELECT * FROM weather
    WHERE city = 'San Francisco'
    AND prcp &gt; 0.0;</pre>
<p>
    Result:
</p>
<pre class="screen">     city      | temp_lo | temp_hi | prcp |    date
---------------+---------+---------+------+------------
 San Francisco |      46 |      50 | 0.25 | 1994-11-27
(1 row)</pre>
<p>
   </p>
<p>    <a name="id2518230"></a>
    <a name="id2518237"></a>
    <a name="id2518243"></a>

    As a final note, you can request that the results of a query can
    be returned in sorted order or with duplicate rows removed:

</p>
<pre class="programlisting">SELECT DISTINCT city
    FROM weather
    ORDER BY city;</pre>
<p>

</p>
<pre class="screen">     city
---------------
 Hayward
 San Francisco
(2 rows)</pre>
<p>

    <tt class="literal">DISTINCT</tt> and <tt class="literal">ORDER BY</tt> can be
    used separately, of course.
   </p>
<div class="footnotes">
<br><hr width="100" align="left">
<div class="footnote"><p><sup>[<a name="ftn.id2518130" href="#id2518130">2</a>] </sup>       While <tt class="literal">SELECT *</tt> is useful for off-the-cuff
       queries, it is considered bad style in production code for
       maintenance reasons: adding a column to the table changes the results.
      </p></div>
</div>
</div></body>
</html>
