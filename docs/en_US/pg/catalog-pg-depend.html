<HTML
><HEAD
><TITLE
>pg_depend</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.73
"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 7.3.3 Documentation"
HREF="index.html"><LINK
REL="UP"
TITLE="System Catalogs"
HREF="catalogs.html"><LINK
REL="PREVIOUS"
TITLE="pg_database"
HREF="catalog-pg-database.html"><LINK
REL="NEXT"
TITLE="pg_description"
HREF="catalog-pg-description.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
NAME="creation"
CONTENT="2003-05-24T21:33:34"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PostgreSQL 7.3.3 Documentation</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="catalog-pg-database.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 3. System Catalogs</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="catalog-pg-description.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="CATALOG-PG-DEPEND"
>3.13. pg_depend</A
></H1
><P
>   The <TT
CLASS="STRUCTNAME"
>pg_depend</TT
> table records the dependency
   relationships between database objects.  This information allows
   <TT
CLASS="COMMAND"
>DROP</TT
> commands to find which other objects must be dropped
   by <TT
CLASS="COMMAND"
>DROP CASCADE</TT
>, or prevent dropping in the <TT
CLASS="COMMAND"
>DROP
   RESTRICT</TT
> case.
  </P
><DIV
CLASS="TABLE"
><A
NAME="AEN53346"
></A
><P
><B
>Table 3-13. pg_depend Columns</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Name</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Type</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>References</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Description</TH
></TR
></THEAD
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>classid</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>oid</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>pg_class.oid</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>The oid of the system catalog the dependent object is in</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>objid</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>oid</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>any oid attribute</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>The oid of the specific dependent object</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>objsubid</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>int4</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>For a table attribute, this is the attribute's
       column number (the objid and classid refer to the table itself).
       For all other object types, this field is presently zero.
      </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>refclassid</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>oid</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>pg_class.oid</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>The oid of the system catalog the referenced object is in</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>refobjid</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>oid</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>any oid attribute</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>The oid of the specific referenced object</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>refobjsubid</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>int4</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>For a table attribute, this is the attribute's
       column number (the refobjid and refclassid refer to the table itself).
       For all other object types, this field is presently zero.
      </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>deptype</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>char</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>       A code defining the specific semantics of this dependency relationship.
      </TD
></TR
></TBODY
></TABLE
></DIV
><P
>   In all cases, a <TT
CLASS="STRUCTNAME"
>pg_depend</TT
> entry indicates that the
   referenced object may not be dropped without also dropping the dependent
   object.  However, there are several subflavors identified by
   <TT
CLASS="STRUCTFIELD"
>deptype</TT
>:

   <P
></P
></P><UL
><LI
><P
>      DEPENDENCY_NORMAL ('n'): normal relationship between separately-created
      objects.  The dependent object may be dropped without affecting the
      referenced object.  The referenced object may only be dropped by
      specifying CASCADE, in which case the dependent object is dropped too.
      Example: a table column has a normal dependency on its datatype.
     </P
></LI
><LI
><P
>      DEPENDENCY_AUTO ('a'): the dependent object can be dropped separately
      from the referenced object, and should be automatically dropped
      (regardless of RESTRICT or CASCADE mode) if the referenced object
      is dropped.
      Example: a named constraint on a table is made auto-dependent on
      the table, so that it will go away if the table is dropped.
     </P
></LI
><LI
><P
>      DEPENDENCY_INTERNAL ('i'): the dependent object was created as part
      of creation of the referenced object, and is really just a part of
      its internal implementation.  A DROP of the dependent object will be
      disallowed outright (we'll tell the user to issue a DROP against the
      referenced object, instead).  A DROP of the referenced object will be
      propagated through to drop the dependent object whether CASCADE is
      specified or not.
      Example: a trigger that's created to enforce a foreign-key constraint
      is made internally dependent on the constraint's pg_constraint entry.
     </P
></LI
><LI
><P
>      DEPENDENCY_PIN ('p'): there is no dependent object; this type of entry
      is a signal that the system itself depends on the referenced object,
      and so that object must never be deleted.  Entries of this type are
      created only during initdb.  The fields for the dependent object
      contain zeroes.
     </P
></LI
></UL
><P>

   Other dependency flavors may be needed in future.
  </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="catalog-pg-database.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="catalog-pg-description.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>pg_database</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="catalogs.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>pg_description</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>