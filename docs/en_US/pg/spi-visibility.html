<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>39.4. Visibility of Data Changes</title>
<link rel="stylesheet" href="stylesheet.css" type="text/css">
<link rev="made" href="pgsql-docs@postgresql.org">
<meta name="generator" content="DocBook XSL Stylesheets V1.64.1">
<link rel="home" href="index.html" title="PostgreSQL 8.0.0beta2 Documentation">
<link rel="up" href="spi.html" title="Chapter 39. Server Programming Interface">
<link rel="previous" href="spi-spi-freeplan.html" title="SPI_freeplan">
<link rel="next" href="spi-examples.html" title="39.5. Examples">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="sect1" lang="en">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="spi-visibility"></a>39.4. Visibility of Data Changes</h2></div></div>
<div></div>
</div>
<p>   The following two rules govern the visibility of data changes in
   functions that use SPI (or any other C function):

   </p>
<div class="itemizedlist"><ul type="disc">
<li>
<p>      During the execution of an SQL command, any data changes made by
      the command (or by function called by the command, including
      trigger functions) are invisible to the command.  For
      example, in command
</p>
<pre class="programlisting">INSERT INTO a SELECT * FROM a;</pre>
<p>
      the inserted rows are invisible to the <tt class="command">SELECT</tt>
      part.
     </p>
</li>
<li><p>      Changes made by a command C are visible to all commands that are
      started after C, no matter whether they are started inside C
      (during the execution of C) or after C is done.
     </p></li>
</ul></div>
<p>
  </p>
<p>   The next section contains an example that illustrates the
   application of these rules.
  </p>
</div></body>
</html>
